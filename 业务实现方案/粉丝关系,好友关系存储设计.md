原文:https://blog.csdn.net/qb170217/article/details/84098928

## 粉丝关系链

## 什么是关系链业务？

关系链主要分为两类，弱好友关系与强好友关系，两类都有典型的互联网产品应用。

### **弱好友关系的建立，不需要双方彼此同意**：

- 用户A关注用户B，不需要用户B同意，此时用户A与用户B为弱好友关系，对A而言，暂且理解为“关注”；
- 用户B关注用户A，也不需要用户A同意，此时用户A与用户B也为弱好友关系，对A而言，暂且理解为“粉丝”；

明星与fans这类微博粉丝关系链，是一个典型的弱好友关系应用。

### **强好友关系的建立，需要好友关系双方彼此同意**：

- 用户A请求添加用户B为好友，用户B同意，此时用户A与用户B则互为强好友关系，即A是B的好友，B也是A的好友；

QQ好友关系链，是一个典型的强好友关系应用。



**如何查询一个用户的好友呢？**

**回答**：假设要查询uid=2的所有好友，只需在uid1和uid2上建立索引，然后：

```
select * from friend where uid1=2

union

select * from friend where uid2=2

即可得到结果。
```

**作业：为何不使用这样的SQL语句呢？**

```
select * from friend uid1=2 or uid2=2
```

供大家思考。