**总结**

**数据库要设计什么：**

 （1）依据“业务模式”设计表结构

 （2）依据“访问模式”设计索引结构

 

**读性能提升，常见方法与实践：**

 （1）**增加索引**，不同实例不同索引

　　　缺点：① 写性能降低 ②索引占用内存大，buffer命中率降低，读性能降低

​     实例：用户中心功能实施一主两从，读写分离架构。

　　　　　 其中主库只为线上提供写服务，没有读取，所以在主库的节点不建立索引，达到写性能max。

​           一个从库提供线上查询，考虑只建立线上查询索引（登录名，UID等）。

​           一个从库提供后台查询，考虑只建立后台查询索引（分页，运营需求查询等）。

​     风险：运维层面的复杂性上升，给运维同事、DBA带来麻烦。

 （2）**增加从库**，使用数据库分组架构

 （3）**增加缓存**，注意防止雪崩

 

**数据库工程架构设计，必须考虑什么：**

 （1）**读性能提升**

 （2）高可用

 （3）一致性保障

 （4）扩展性

 （5）垂直拆分