**总结：连接池**

 

1 在有连接池之前，怎么访问下游？

 （1）建立连接

 （2）通过连接，收发请求

 （3）关闭连接

 

2 提前建立连接池之后，怎么访问下游？

 （1）拿一个连接

 （2）通过连接，收发请求

 （3）放回连接

 

**细节：**

 （1）为什么要连接池（频繁的建立连接与销毁连接，在吞吐量提升到一定级别的时候，会成为性能瓶颈）

 （2）两个核心数据结构（Array DBClientConnection[N]、Array lock[N]）

 （3）三个核心接口（Init、GetConnection、FreeConnection）