**总结**

**扩展性，解决什么问题?**

（1）底层表结构变更

（2）水平扩展，分库个数变化

（3）底层存储介质变化

 

**方案一，停服扩展（离线，非高可用）**

（1）挂公告，暂停服务

（2）离线迁移数据

（3）恢复服务

 

**方案二，pt-online-schema-change（平滑）**

 

**方案三，追日志方案（平滑）**

（1）升级服务，记录日志

（2）离线迁移数据

（3）追日志，补充增量

（3）校验数据

（3）迁移流量

 

**数据库工程架构设计，必须考虑什么：**

 （1）读性能提升

 （2）高可用

 （3）一致性保障

 （4）**扩展性**

 （5）垂直拆分